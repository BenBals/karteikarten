var animationTime,answer,answerRight,answerWrong,check,data,flipCard,flipElement,init,loadData,nextCard,playAgainAllCards,playAgainWrongCards,playAgian,setTextOnCard;console.log("karteikarten v0.1.5"),$(document).ready(function(){return toastr.options.preventDuplicates=!0}),animationTime=500,data={},data.allCards=[],data.random=!1,answer=function(){return data.lastAnsweredCard=data.unansweredCards.splice(0,1)[0]},answerRight=function(){return data.rightCards.push(data.lastAnsweredCard),nextCard()},answerWrong=function(){return data.wrongCards.push(data.lastAnsweredCard),nextCard(!0)},check=function(){return flipCard()},init=function(n){return data.unansweredCards=!!n==!1?data.allCards.slice():data.wrongCards.slice(),data.rightCards=[],data.wrongCards=[],data.currCard=0,setTextOnCard()},loadData=function(){var n;return n="",n=""===$(".dataSelect").val()?$("input.jsonUrl").val():$(".dataSelect").val(),console.log(n),toastr.info("Laden..."),$.getJSON(n,function(n){return console.log(typeof n),n instanceof Array?data.allCards=n:(data.allCards=n.data.shuffle(),data.random=n.config.random),console.log(n),flipCard(),setTimeout(function(){return init(),$(".front").show(),$(".back").hide(),$(".allDone").hide(),$(".selectData").hide()},animationTime/2)}).fail(function(){return toastr.clear(),toastr.error("Es ist ein Fehler beim Laden der Daten aufgetreten. Kontrolliere die URL bzw. die Datenquelle.")}).done(function(){return toastr.clear()})},nextCard=function(n){return $(".card").addClass(n?"swingOut-wrong":"swingOut-right"),setTimeout(function(){return $(".card").removeClass("swingOut-wrong"),$(".card").removeClass("swingOut-right"),$(".card").addClass("swingIn"),setTimeout(function(){return $(".card").removeClass("swingIn")},animationTime)},animationTime),data.random&&data.unansweredCards.shuffle(),flipCard(),data.currCard++,setTimeout(function(){return setTextOnCard()},animationTime/2)},playAgian=function(){return console.log("runnig playAgian"),setTimeout(function(){return $(".allDone").hide(),$(".front").show()},animationTime/2)},playAgainAllCards=function(){return flipCard(),setTimeout(function(){return init()},animationTime/2)},playAgainWrongCards=function(){return flipCard(),setTimeout(function(){return init(!0)},animationTime/2)},flipElement=function(n){return $(n).addClass("flip"),setTimeout(function(){return $(n).removeClass("flip")},animationTime)},flipCard=function(){return console.log("runnig flip card"),flipElement(".card"),setTimeout(function(){return $(".front").toggle(),$(".back").toggle()},animationTime/2)},setTextOnCard=function(){return console.log("running setTextOnCard"),0===data.allCards.length?(console.log("there is no data"),$(".front").hide(),$(".back").hide(),$(".allDone").hide(),$(".selectData").show()):data.unansweredCards.length>0?($(".q").html(data.unansweredCards[0][0]),$(".a").html(data.unansweredCards[0][1]),$(".front").show(),$(".back").hide(),$(".allDone").hide(),$(".selectData").hide()):($(".front").hide(),$(".back").hide(),$(".allDone").show(),$(".selectData").hide(),0===data.wrongCards.length?$(".btnAgainWrong").hide():$(".btnAgainWrong").show())},Array.prototype.shuffle=function(){var n,e,t;if(n=this.length,e=void 0,t=void 0,0===n)return this;for(;--n;)e=Math.floor(Math.random()*(n+1)),t=this[n],this[n]=this[e],this[e]=t;return this},$(".checkBtn").click(function(){return check()}),$(".btnRight, .btnWrong").click(function(){return answer()}),$(".btnRight").click(function(){return answerRight()}),$(".btnWrong").click(function(){return answerWrong()}),$(".btnAgainAll, .btnAgainWrong").click(function(){return playAgian()}),$(".btnAgainAll").click(function(){return playAgainAllCards()}),$(".btnAgainWrong").click(function(){return playAgainWrongCards()}),$(".btnSubmitJson").click(function(){return loadData()}),!function(n){n(["jquery"],function(n){return function(){function e(n,e,t){return m({type:$.error,iconClass:h().iconClasses.error,message:n,optionsOverride:t,title:e})}function t(e,t){return e||(e=h()),C=n("#"+e.containerId),C.length?C:(t&&(C=c(e)),C)}function a(n,e,t){return m({type:$.info,iconClass:h().iconClasses.info,message:n,optionsOverride:t,title:e})}function i(n){w=n}function r(n,e,t){return m({type:$.success,iconClass:h().iconClasses.success,message:n,optionsOverride:t,title:e})}function o(n,e,t){return m({type:$.warning,iconClass:h().iconClasses.warning,message:n,optionsOverride:t,title:e})}function s(n){var e=h();C||t(e),u(n,e)||l(e)}function d(e){var a=h();return C||t(a),e&&0===n(":focus",e).length?void p(e):void(C.children().length&&C.remove())}function l(e){for(var t=C.children(),a=t.length-1;a>=0;a--)u(n(t[a]),e)}function u(e,t){return e&&0===n(":focus",e).length?(e[t.hideMethod]({duration:t.hideDuration,easing:t.hideEasing,complete:function(){p(e)}}),!0):!1}function c(e){return C=n("<div/>").attr("id",e.containerId).addClass(e.positionClass).attr("aria-live","polite").attr("role","alert"),C.appendTo(n(e.target)),C}function g(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function f(n){w&&w(n)}function m(e){function a(e){return!n(":focus",u).length||e?(clearTimeout($.intervalId),u[s.hideMethod]({duration:s.hideDuration,easing:s.hideEasing,complete:function(){p(u),s.onHidden&&"hidden"!==b.state&&s.onHidden(),b.state="hidden",b.endTime=new Date,f(b)}})):void 0}function i(){(s.timeOut>0||s.extendedTimeOut>0)&&(l=setTimeout(a,s.extendedTimeOut),$.maxHideTime=parseFloat(s.extendedTimeOut),$.hideEta=(new Date).getTime()+$.maxHideTime)}function r(){clearTimeout(l),$.hideEta=0,u.stop(!0,!0)[s.showMethod]({duration:s.showDuration,easing:s.showEasing})}function o(){var n=($.hideEta-(new Date).getTime())/$.maxHideTime*100;m.width(n+"%")}var s=h(),d=e.iconClass||s.iconClass;if(s.preventDuplicates){if(e.message===v)return;v=e.message}"undefined"!=typeof e.optionsOverride&&(s=n.extend(s,e.optionsOverride),d=e.optionsOverride.iconClass||d),T++,C=t(s,!0);var l=null,u=n("<div/>"),c=n("<div/>"),g=n("<div/>"),m=n("<div/>"),w=n(s.closeHtml),$={intervalId:null,hideEta:null,maxHideTime:null},b={toastId:T,state:"visible",startTime:new Date,options:s,map:e};return e.iconClass&&u.addClass(s.toastClass).addClass(d),e.title&&(c.append(e.title).addClass(s.titleClass),u.append(c)),e.message&&(g.append(e.message).addClass(s.messageClass),u.append(g)),s.closeButton&&(w.addClass("toast-close-button").attr("role","button"),u.prepend(w)),s.progressBar&&(m.addClass("toast-progress"),u.prepend(m)),u.hide(),s.newestOnTop?C.prepend(u):C.append(u),u[s.showMethod]({duration:s.showDuration,easing:s.showEasing,complete:s.onShown}),s.timeOut>0&&(l=setTimeout(a,s.timeOut),$.maxHideTime=parseFloat(s.timeOut),$.hideEta=(new Date).getTime()+$.maxHideTime,s.progressBar&&($.intervalId=setInterval(o,10))),u.hover(r,i),!s.onclick&&s.tapToDismiss&&u.click(a),s.closeButton&&w&&w.click(function(n){n.stopPropagation?n.stopPropagation():void 0!==n.cancelBubble&&n.cancelBubble!==!0&&(n.cancelBubble=!0),a(!0)}),s.onclick&&u.click(function(){s.onclick(),a()}),f(b),s.debug&&console&&console.log(b),u}function h(){return n.extend({},g(),b.options)}function p(n){C||(C=t()),n.is(":visible")||(n.remove(),n=null,0===C.children().length&&C.remove())}var C,w,v,T=0,$={error:"error",info:"info",success:"success",warning:"warning"},b={clear:s,remove:d,error:e,getContainer:t,info:a,options:{},subscribe:i,success:r,version:"2.1.0",warning:o};return b}()})}("function"==typeof define&&define.amd?define:function(n,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)});