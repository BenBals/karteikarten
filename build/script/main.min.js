var answer,answerRight,answerWrong,check,data,flipCard,flipElement,init,loadData,nextCard,playAgainAllCards,playAgainWrongCards,playAgian,setTextOnCard;console.log("karteikarten v0.1.5"),$(document).ready(function(){return toastr.options.preventDuplicates=!0}),data={},data.allCards=[],data.random=!1,answer=function(){return data.lastAnsweredCard=data.unansweredCards.splice(0,1)[0],nextCard()},answerRight=function(){return data.rightCards.push(data.lastAnsweredCard)},answerWrong=function(){return data.wrongCards.push(data.lastAnsweredCard)},check=function(){return flipCard()},init=function(e){return data.unansweredCards=!!e==!1?data.allCards.slice():data.wrongCards.slice(),data.rightCards=[],data.wrongCards=[],data.currCard=0,setTextOnCard()},loadData=function(){var e;return e="",e=""===$(".dataSelect").val()?$("input.jsonUrl").val():$(".dataSelect").val(),console.log(e),toastr.info("Laden..."),$.getJSON(e,function(e){return console.log(typeof e),e instanceof Array?data.allCards=e:(data.allCards=e.data.shuffle(),data.random=e.config.random),console.log(e),flipCard(),setTimeout(function(){return init(),$(".front").show(),$(".back").hide(),$(".allDone").hide(),$(".selectData").hide()},500)}).fail(function(){return toastr.clear(),toastr.error("Es ist ein Fehler beim Laden der Daten aufgetreten. Kontrolliere die URL bzw. die Datenquelle.")}).done(function(){return toastr.clear()})},nextCard=function(){return $(".card").addClass("swingOut"),setTimeout(function(){return $(".card").removeClass("swingOut"),$(".card").addClass("swingIn"),setTimeout(function(){return $(".card").removeClass("swingIn")},1e3)},1e3),data.random&&data.unansweredCards.shuffle(),flipCard(),data.currCard++,setTimeout(function(){return setTextOnCard()},500)},playAgian=function(){return console.log("runnig playAgian"),setTimeout(function(){return $(".allDone").hide(),$(".front").show()},500)},playAgainAllCards=function(){return flipCard(),setTimeout(function(){return init()},500)},playAgainWrongCards=function(){return flipCard(),setTimeout(function(){return init(!0)},500)},flipElement=function(e){return $(e).addClass("flip"),setTimeout(function(){return $(e).removeClass("flip")},1e3)},flipCard=function(){return console.log("runnig flip card"),flipElement(".card"),setTimeout(function(){return $(".front").toggle(),$(".back").toggle()},500)},setTextOnCard=function(){return console.log("running setTextOnCard"),0===data.allCards.length?(console.log("there is no data"),$(".front").hide(),$(".back").hide(),$(".allDone").hide(),$(".selectData").show()):data.unansweredCards.length>0?($(".q").html(data.unansweredCards[0][0]),$(".a").html(data.unansweredCards[0][1]),$(".front").show(),$(".back").hide(),$(".allDone").hide(),$(".selectData").hide()):($(".front").hide(),$(".back").hide(),$(".allDone").show(),$(".selectData").hide(),0===data.wrongCards.length?$(".btnAgainWrong").hide():$(".btnAgainWrong").show())},Array.prototype.shuffle=function(){var e,n,t;if(e=this.length,n=void 0,t=void 0,0===e)return this;for(;--e;)n=Math.floor(Math.random()*(e+1)),t=this[e],this[e]=this[n],this[n]=t;return this},$(".checkBtn").click(function(){return check()}),$(".btnRight, .btnWrong").click(function(){return answer()}),$(".btnRight").click(function(){return answerRight()}),$(".btnWrong").click(function(){return answerWrong()}),$(".btnAgainAll, .btnAgainWrong").click(function(){return playAgian()}),$(".btnAgainAll").click(function(){return playAgainAllCards()}),$(".btnAgainWrong").click(function(){return playAgainWrongCards()}),$(".btnSubmitJson").click(function(){return loadData()}),!function(e){e(["jquery"],function(e){return function(){function n(e,n,t){return h({type:T.error,iconClass:p().iconClasses.error,message:e,optionsOverride:t,title:n})}function t(n,t){return n||(n=p()),C=e("#"+n.containerId),C.length?C:(t&&(C=c(n)),C)}function a(e,n,t){return h({type:T.info,iconClass:p().iconClasses.info,message:e,optionsOverride:t,title:n})}function i(e){w=e}function r(e,n,t){return h({type:T.success,iconClass:p().iconClasses.success,message:e,optionsOverride:t,title:n})}function o(e,n,t){return h({type:T.warning,iconClass:p().iconClasses.warning,message:e,optionsOverride:t,title:n})}function s(e){var n=p();C||t(n),u(e,n)||l(n)}function d(n){var a=p();return C||t(a),n&&0===e(":focus",n).length?void m(n):void(C.children().length&&C.remove())}function l(n){for(var t=C.children(),a=t.length-1;a>=0;a--)u(e(t[a]),n)}function u(n,t){return n&&0===e(":focus",n).length?(n[t.hideMethod]({duration:t.hideDuration,easing:t.hideEasing,complete:function(){m(n)}}),!0):!1}function c(n){return C=e("<div/>").attr("id",n.containerId).addClass(n.positionClass).attr("aria-live","polite").attr("role","alert"),C.appendTo(e(n.target)),C}function f(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function g(e){w&&w(e)}function h(n){function a(n){return!e(":focus",u).length||n?(clearTimeout(T.intervalId),u[s.hideMethod]({duration:s.hideDuration,easing:s.hideEasing,complete:function(){m(u),s.onHidden&&"hidden"!==b.state&&s.onHidden(),b.state="hidden",b.endTime=new Date,g(b)}})):void 0}function i(){(s.timeOut>0||s.extendedTimeOut>0)&&(l=setTimeout(a,s.extendedTimeOut),T.maxHideTime=parseFloat(s.extendedTimeOut),T.hideEta=(new Date).getTime()+T.maxHideTime)}function r(){clearTimeout(l),T.hideEta=0,u.stop(!0,!0)[s.showMethod]({duration:s.showDuration,easing:s.showEasing})}function o(){var e=(T.hideEta-(new Date).getTime())/T.maxHideTime*100;h.width(e+"%")}var s=p(),d=n.iconClass||s.iconClass;if(s.preventDuplicates){if(n.message===v)return;v=n.message}"undefined"!=typeof n.optionsOverride&&(s=e.extend(s,n.optionsOverride),d=n.optionsOverride.iconClass||d),$++,C=t(s,!0);var l=null,u=e("<div/>"),c=e("<div/>"),f=e("<div/>"),h=e("<div/>"),w=e(s.closeHtml),T={intervalId:null,hideEta:null,maxHideTime:null},b={toastId:$,state:"visible",startTime:new Date,options:s,map:n};return n.iconClass&&u.addClass(s.toastClass).addClass(d),n.title&&(c.append(n.title).addClass(s.titleClass),u.append(c)),n.message&&(f.append(n.message).addClass(s.messageClass),u.append(f)),s.closeButton&&(w.addClass("toast-close-button").attr("role","button"),u.prepend(w)),s.progressBar&&(h.addClass("toast-progress"),u.prepend(h)),u.hide(),s.newestOnTop?C.prepend(u):C.append(u),u[s.showMethod]({duration:s.showDuration,easing:s.showEasing,complete:s.onShown}),s.timeOut>0&&(l=setTimeout(a,s.timeOut),T.maxHideTime=parseFloat(s.timeOut),T.hideEta=(new Date).getTime()+T.maxHideTime,s.progressBar&&(T.intervalId=setInterval(o,10))),u.hover(r,i),!s.onclick&&s.tapToDismiss&&u.click(a),s.closeButton&&w&&w.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),a(!0)}),s.onclick&&u.click(function(){s.onclick(),a()}),g(b),s.debug&&console&&console.log(b),u}function p(){return e.extend({},f(),b.options)}function m(e){C||(C=t()),e.is(":visible")||(e.remove(),e=null,0===C.children().length&&C.remove())}var C,w,v,$=0,T={error:"error",info:"info",success:"success",warning:"warning"},b={clear:s,remove:d,error:n,getContainer:t,info:a,options:{},subscribe:i,success:r,version:"2.1.0",warning:o};return b}()})}("function"==typeof define&&define.amd?define:function(e,n){"undefined"!=typeof module&&module.exports?module.exports=n(require("jquery")):window.toastr=n(window.jQuery)});